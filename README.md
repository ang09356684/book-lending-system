# ç·šä¸Šåœ–æ›¸å€Ÿé–±ç³»çµ±
## Java + Spring Boot å°ˆæ¡ˆ

---

### ğŸ“ **å°ˆæ¡ˆçµæ§‹**

```
library-system/
â”œâ”€â”€ docs/                          # ğŸ“š æ–‡ä»¶è³‡æ–™å¤¾
â”‚   â”œâ”€â”€ PRD_ç·šä¸Šåœ–æ›¸å€Ÿé–±ç³»çµ±_è¼•é‡ç‰ˆ.md    # ç”¢å“éœ€æ±‚æ–‡ä»¶
â”‚   â”œâ”€â”€ TODO_é–‹ç™¼æ¸…å–®.md              # é–‹ç™¼é€²åº¦æ¸…å–®
â”‚   â”œâ”€â”€ Database_Design_Document.md  # è³‡æ–™åº«è¨­è¨ˆæ–‡ä»¶
â”‚   â””â”€â”€ README_è·¨å¹³å°é–‹ç™¼.md          # è·¨å¹³å°é–‹ç™¼æŒ‡å—
â”œâ”€â”€ src/                           # ğŸ”§ åŸå§‹ç¢¼ï¼ˆé–‹ç™¼æ™‚å»ºç«‹ï¼‰
â”œâ”€â”€ database_schema.sql            # ğŸ—„ï¸ è³‡æ–™åº«Schema
â”œâ”€â”€ Dockerfile.dev                 # ğŸ³ é–‹ç™¼ç’°å¢ƒDockerfile
â”œâ”€â”€ docker-compose.dev.yml         # ğŸ³ é–‹ç™¼ç’°å¢ƒDocker Compose
â”œâ”€â”€ pom.xml                        # ğŸ“¦ Mavené…ç½®ï¼ˆé–‹ç™¼æ™‚å»ºç«‹ï¼‰
â””â”€â”€ README.md                      # ğŸ“– æœ¬æ–‡ä»¶
```

---

### ğŸš€ **å¿«é€Ÿé–‹å§‹**

#### **ç’°å¢ƒéœ€æ±‚**
- Docker Desktop
- Git

#### **å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ**
```bash
# 1. å…‹éš†å°ˆæ¡ˆ
git clone <your-repo-url>
cd library-system

# 2. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
docker-compose -f docker-compose.dev.yml up --build

# 3. è¨ªå•æœå‹™
# æ‡‰ç”¨ç¨‹å¼: http://localhost:8080/api
# APIæ–‡ä»¶: http://localhost:8080/api/swagger-ui/index.html
# è³‡æ–™åº«ç®¡ç†: http://localhost:5050
```

---

### ğŸ“š **æ–‡ä»¶èªªæ˜**

#### **docs/ è³‡æ–™å¤¾**
- **PRDæ–‡ä»¶**: ç”¢å“éœ€æ±‚è¦æ ¼ï¼Œå®šç¾©åŠŸèƒ½éœ€æ±‚
- **TODOæ¸…å–®**: é–‹ç™¼é€²åº¦è¿½è¹¤ï¼Œ75å€‹å…·é«”é …ç›®
- **è³‡æ–™åº«è¨­è¨ˆ**: å®Œæ•´çš„è³‡æ–™åº«Schemaå’Œè¨­è¨ˆèªªæ˜
- **è·¨å¹³å°æŒ‡å—**: Mac/Windowsç„¡ç¸«é–‹ç™¼æŒ‡å—

#### **é–‹ç™¼æª”æ¡ˆ**
- **database_schema.sql**: å¯ç›´æ¥åŸ·è¡Œçš„PostgreSQLè…³æœ¬
- **Dockerfile.dev**: é–‹ç™¼ç’°å¢ƒå®¹å™¨é…ç½®
- **docker-compose.dev.yml**: ä¸€éµå•Ÿå‹•å®Œæ•´é–‹ç™¼ç’°å¢ƒ

---

### ğŸ¯ **é–‹ç™¼æµç¨‹**

#### **1. éœ€æ±‚ç¢ºèª**
```bash
# æŸ¥çœ‹PRDæ–‡ä»¶
open docs/PRD_ç·šä¸Šåœ–æ›¸å€Ÿé–±ç³»çµ±_è¼•é‡ç‰ˆ.md
```

#### **2. é€²åº¦è¿½è¹¤**
```bash
# æŸ¥çœ‹é–‹ç™¼æ¸…å–®
open docs/TODO_é–‹ç™¼æ¸…å–®.md
```

#### **3. è³‡æ–™åº«è¨­è¨ˆ**
```bash
# æŸ¥çœ‹è³‡æ–™åº«è¨­è¨ˆ
open docs/Database_Design_Document.md
```

#### **4. é–‹å§‹é–‹ç™¼**
```bash
# å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
docker-compose -f docker-compose.dev.yml up --build
```

---

### ğŸ› ï¸ **æŠ€è¡“æ£§**

- **å¾Œç«¯**: Spring Boot 3.x + Java 17
- **è³‡æ–™åº«**: PostgreSQL 17
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **APIæ–‡ä»¶**: Springdoc OpenAPI 3
- **æ¸¬è©¦**: JUnit 5 + Mockito

---

### ğŸ“Š **åŠŸèƒ½ç‰¹è‰²**

- âœ… æœƒå“¡ç®¡ç†ï¼ˆé¤¨å“¡/ä¸€èˆ¬ç”¨æˆ¶ï¼‰
- âœ… æ›¸ç±ç®¡ç†ï¼ˆå¤šé¤¨é¤¨è—ï¼‰
- âœ… å€Ÿé–±é‚„æ›¸ç³»çµ±
- âœ… åˆ°æœŸé€šçŸ¥åŠŸèƒ½
- âœ… æ¬Šé™æ§åˆ¶
- âœ… APIæ–‡ä»¶è‡ªå‹•ç”Ÿæˆ
- âœ… å®Œæ•´æ¸¬è©¦è¦†è“‹
- âœ… è·¨å¹³å°é–‹ç™¼æ”¯æ´

### ğŸŒ **API æ–‡ä»¶**

- **Swagger UI**: http://localhost:8080/api/swagger-ui/index.html
- **API æ–‡ä»¶ JSON**: http://localhost:8080/api/v3/api-docs
- **å¥åº·æª¢æŸ¥**: http://localhost:8080/api/actuator/health

### ğŸ—„ï¸ **è³‡æ–™åº«ç®¡ç† (pgAdmin)**

#### **ç™»å…¥è³‡è¨Š**
- **è¨ªå•ç¶²å€**: http://localhost:5050
- **Email**: `admin@library.com`
- **å¯†ç¢¼**: `admin`

### ğŸ‘¤ **æ¸¬è©¦å¸³è™Ÿ**

#### **ä¸€èˆ¬ç”¨æˆ¶ (MEMBER è§’è‰²)**
| å§“å | Email | å¯†ç¢¼ | è§’è‰² | é©—è­‰ç‹€æ…‹ |
|------|-------|------|------|----------|
| John Doe | `john.doe@example.com` | `password` | MEMBER | æœªé©—è­‰ |
| Jane Smith | `jane.smith@example.com` | `password` | MEMBER | æœªé©—è­‰ |

#### **åœ–æ›¸é¤¨å“¡ (LIBRARIAN è§’è‰²)**
| å§“å | Email | å¯†ç¢¼ | è§’è‰² | é¤¨å“¡ID | é©—è­‰ç‹€æ…‹ |
|------|-------|------|------|--------|----------|
| Librarian Admin | `librarian@library.com` | `password` | LIBRARIAN | LIB001 | å·²é©—è­‰ |

#### **é€£æ¥ PostgreSQL è³‡æ–™åº«**
ç™»å…¥ pgAdmin å¾Œï¼Œæ·»åŠ ä¼ºæœå™¨é€£æ¥ï¼š

**ä¼ºæœå™¨é€£æ¥è³‡è¨Šï¼š**
- **ä¸»æ©Ÿåç¨±/åœ°å€**: `postgres` (Docker å®¹å™¨åç¨±)
- **ç«¯å£**: `5432`
- **ç¶­è­·è³‡æ–™åº«**: `library`
- **ä½¿ç”¨è€…åç¨±**: `postgres`
- **å¯†ç¢¼**: `password`

#### **æ•…éšœæ’é™¤**
å¦‚æœé‡åˆ°é€£æ¥å•é¡Œï¼š

1. **æª¢æŸ¥å®¹å™¨ç‹€æ…‹**ï¼š
   ```bash
   docker ps
   docker logs library-postgres
   ```

2. **é‡æ–°å•Ÿå‹•æœå‹™**ï¼š
   ```bash
   docker-compose -f docker-compose.dev.yml down
   docker-compose -f docker-compose.dev.yml up -d
   ```

3. **æ‰‹å‹•æ¸¬è©¦é€£æ¥**ï¼š
   ```bash
   docker exec -it library-postgres psql -U postgres -d library
   ```

4. **æª¢æŸ¥ç¶²è·¯é€£æ¥**ï¼š
   ```bash
   docker network ls
   docker network inspect library_library-network
   ```

#### **ä½¿ç”¨æ­¥é©Ÿ**
1. å•Ÿå‹•æœå‹™å¾Œè¨ªå• `http://localhost:5050`
2. ä½¿ç”¨ä¸Šè¿°å¸³è™Ÿå¯†ç¢¼ç™»å…¥ pgAdmin
3. å³éµé»æ“Š "Servers" â†’ "Register" â†’ "Server"
4. åœ¨ "General" æ¨™ç±¤è¼¸å…¥åç¨±ï¼ˆå¦‚ï¼šLibrary DBï¼‰
5. åœ¨ "Connection" æ¨™ç±¤è¼¸å…¥é€£æ¥è³‡è¨Š

### ğŸ“‹ **ä¸»è¦ API ç«¯é»**

- **èªè­‰**: `/api/auth/*` - è¨»å†Šã€ç™»å…¥ã€ç™»å‡º
- **æ›¸ç±ç®¡ç†**: `/api/books/*` - æ›¸ç± CRUD æ“ä½œ
- **å€Ÿé–±ç®¡ç†**: `/api/borrowings/*` - å€Ÿæ›¸ã€é‚„æ›¸ã€æŸ¥è©¢
- **ç”¨æˆ¶ç®¡ç†**: `/api/users/*` - ç”¨æˆ¶è³‡è¨Šç®¡ç†
- **åœ–æ›¸é¤¨ç®¡ç†**: `/api/libraries/*` - åœ–æ›¸é¤¨è³‡è¨Šç®¡ç†

---

### ğŸ”„ **è·¨å¹³å°é–‹ç™¼**

æ”¯æ´åœ¨Macã€Windowsã€Linuxä¹‹é–“ç„¡ç¸«åˆ‡æ›é–‹ç™¼ï¼š
- åªéœ€è¦Docker Desktop
- ç’°å¢ƒå®Œå…¨ä¸€è‡´
- ä¸€éµå•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

è©³ç´°èªªæ˜è«‹åƒè€ƒï¼š`docs/README_è·¨å¹³å°é–‹ç™¼.md`

---

### ğŸ“ **é–‹ç™¼é€²åº¦**

- [ ] ç’°å¢ƒæº–å‚™
- [ ] å°ˆæ¡ˆåˆå§‹åŒ–
- [ ] è³‡æ–™åº«é…ç½®
- [ ] å¯¦é«”é¡åˆ¥å»ºç«‹
- [ ] Repositoryå±¤
- [ ] Serviceå±¤
- [ ] Controllerå±¤
- [ ] æ¬Šé™æ§åˆ¶
- [ ] APIæ–‡ä»¶
- [ ] å–®å…ƒæ¸¬è©¦
- [ ] Dockeré…ç½®
- [ ] æ–‡ä»¶èˆ‡éƒ¨ç½²

è©³ç´°é€²åº¦è«‹åƒè€ƒï¼š`docs/TODO_é–‹ç™¼æ¸…å–®.md`

---

### ğŸ¯ **é¢è©¦é‡é»**

æœ¬å°ˆæ¡ˆå±•ç¤ºï¼š
- Spring Booté–‹ç™¼èƒ½åŠ›
- è³‡æ–™åº«è¨­è¨ˆèƒ½åŠ›
- Dockerå®¹å™¨åŒ–æŠ€è¡“
- APIè¨­è¨ˆèƒ½åŠ›
- æ¸¬è©¦é©…å‹•é–‹ç™¼
- è·¨å¹³å°é–‹ç™¼èƒ½åŠ›

---

**æº–å‚™å¥½é–‹å§‹é–‹ç™¼äº†å—ï¼Ÿè«‹åƒè€ƒ `docs/TODO_é–‹ç™¼æ¸…å–®.md` é–‹å§‹æ‚¨çš„é–‹ç™¼ä¹‹æ—…ï¼**
